# RULES NEEDED: see data-standards: https://github.com/carlosug/greencity-ontology/blob/main/Information/data-standards.md 
# how the IRI representing a tree is generated
# that this is IRI is used as subject of the triples and quads
# that the class of a tree is EUNIS-code:Identifier,
# that the properties are annotated with the properties of sio ontology sio:givenProperty (e.g. scientific name as string),
# that the number of the each calculation is annotated with sio ontology e:metrics,
# and is of the datatype xsd:integer
# that the hair color is annotated with the property dbo:hairColor,


prefixes:
  rdf: "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  rdfs: "http://www.w3.org/2000/01/rdf-schema#"
  dc: "http://purl.org/dc/elements/1.1/"
  rr: "http://www.w3.org/ns/r2rml#"
  xsd: "http://www.w3.org/2001/XMLSchema#"
  grel: "http://users.ugent.be/~bjdmeest/function/grel.ttl#"
  idlab: "http://example.com/idlab/function/"
  idsf: "https://w3id.org/um/ids/rmlfunctions.ttl#"
  pubmed: "https://identifiers.org/pubmed:"
  schema: "https://schema.org/"
  sio: "http://semanticscience.org/resource/"
  eol: "https://eol.org/pages/"
  eunis: "https://eunis.eea.europa.eu/species/" 
  esgreen: "https://w3id.org/esgreen/"

authors:
  - Carlos Utrilla Guerrero <c.utrillaguerrero@maastrichtuniversity.nl>
  - Vincent Emonet <vincent.emonet@gmail.com>

# original datasets: https://datos.madrid.es/egob/catalogo/#
mappings:
  habitatSpecies:
    sources:
      - access: data/inputs/ArboladoParquesHistoricoSingularesForestales_2020.csv
        type: csv
        referenceFormulation: csv

    s: esgreen:anatomical_entity/$(ESPECIE)
    g: esgreen:graph/trees
    po:
      - [a, sio:anatomical entity]
      # we link to EUNIS code (or eol)
      - [eunis:Scientific Name, $(ESPECIE)]
      - [eunis:ID-code, $(ESPECIEID)] # here we map with name
      - [sio:is located in, $(PARQUE)]
      - [sio:, $(has unique indentifier)]

  collectionOfTrees:
    sources:
      - access: data/inputs/ArboladoParquesHistoricoSingularesForestales_2020.csv
        type: csv
        referenceFormulation: csv

    s: sio:anatomical entity/$(ESPECIE)
    po:
      - [a, sio:anatomical entity]
      # we link to EUNIS code (or eol)
      - [sio:has member, $(ESPECIE)]
      - [eunis:ID-code, $(ESPECIEID)] # here we map with name
      - [sio:is located in, $(PARQUE)]
      - [sio:, $(has unique indentifier)]

  park:
    sources:
      - access: data/inputs/Estado_arbolado_ParquesHistoricoSingularesForestales_2020.csv
        type: csv
        referenceFormulation: csv

    s: sio:site/$(PARQUE)
    # g: 
    po:
      - [a, sio:Site]
      - [has a, sio:catalog]
      - [has a, $(ESPECIE PREDOMINANTE)]
      - [rdfs:label, $(PARQUE)]
      - [has dimensional quantity, $(COLUMNS)]
      - [sio:length of perimeter, $(Perimetro Promedio (cm))]
      - [sio:height, $(Altura Promedio (m))]
      - [has life status,$(LABELS)] # how can I annotate here different life status of a tree?
      - [sio:member count, $(Joven)]
      - [sio:member count, $(Maduro)]
      - [sio:member count, $(Viejo)]
      - [sio:member count, $(Otros)]
      # we link with MasasParquesHistoricoSingularesForestales_2020 to get predominant species
      - [refers to, sio:catalog]
      - [contains, sio:catalog-anatomical entity]
      - - [rdfs:label, $(ESPECIE PREDOMINANTE)]
      - [sio:member count, $(Unidades$)]
      - [sio:surface area, $(SUPERFICIE OCUPADA (m2))]

  district:
    sources:
      - access: data/inputs/ArboladoZonasVerdesDistritosCalles_2020.csv
        type: csv
        referenceFormulation: csv

    s: sio:township/$(Numero_Distrito)
    po:
      - [similar to, sio:township]
      - [is part of, sio:city]
      - [is part of, sio:province]
      - [rdfs:label, $(Nombre_distrito)]
      - [eunis:Scientific Name, $(NOMBRE_ESPECIE)] # map with eunis database
      - [sio:has measurement value, $(Num_Unidades)]
      - [sio:Geographical position, $(Location)] # map with georeferencing data
      # we link with EstadoZonasVerdesDistritosCalles_2020 data to get information about life status of tree
      - [sio:township, EstadoZonasVerdesDistritosCalles_2020/$(N_Distrito)]
      - [has dimensional quantity, $(VALUES)] # maybe here quads???
      - [sio:height, $(Hmedia_J)]
      - [sio:height, $(Altura Media (Hmedia)_RRLyNC)]
      - [sio:height, $(Hmedia_J)]
      - [sio:height, $(HMedia_V)]
      - [sio:height, $(Hmedia_O)]
      - [has life status,$(LABELS)] # how can I annotate here different life status of a tree?
      - [sio:member count, $(Joven (J))]
      - [sio:member count, $(Maduro (M))]
      - [sio:member count, $(Viejo (V))]
      - [sio:member count, $(Otros)]